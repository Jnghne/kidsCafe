# 👋🏻 키즈 카페 예약 서비스

## 1. 개요
- 키즈 카페 예약 서비스린 ?
  - "**아이를 키우는 부모님들이 온라인으로 키즈 카페 수업을 예약한다**"는 주제의 사이드 프로젝트입니다. 
  - 로그인, 보안, UI 와 같은 부가 기능은 적용하지 않은 간단한 API 서버입니다.
    
- 핵심 기능
  - 특정 키즈카페 매장의 수업 예약
  - 예약 취소
  - 사용자 별 예약 이력 조회
  - 매장/수업 별 에약자 현황 조회 (관리자)

## 2. 프로젝트 환경 
- JDK 17
- Spring Boot 3.1.8
- Spring Data JPA & QueryDSL
- MySQL 8
- JUnit 5
- gradle
- Swagger 2.3.0
- p6spy
- Lombok
- IntelliJ

## 3. 요구 사항
### 3.1. 공통 
- 키즈 카페는 여러 매장이 있을 수 있고, 현재는 잠실점/인천점/수원점이 있다고 설정한다.
- 각 매장에는 다양한 수업이 존재하고, 각 매장 별로 수업이 다를 수 있다.
- 각 수업의 최대 예약 인원은 기본 값이 20명이고 변경될 수 있다.
- 각 수업의 일정은 매달 다르게 설정 될 수 있다.

### 3.2. 수업 예약 기능
- 과거 수업 일정은 예약 할 수 없다. 
- 당일 수업 일정은 예약 할 수 없다. 
- 15일 이후의 수업 일정은 예약 할 수 없다.
- 동일 매장, 동일 수업 일정에 두번 이상 중복해서 예약할 수 없다.
- 여러 아이를 한번에 예약할 수 있다.
- 예약하려는 아이 수가 수업의 현재 가용 인원 수를 초과한다면 예약할 수 없다.  

### 3.3. 수업 예약 취소 기능 
- 예약 취소 인원 만큼 수업 일정의 예약 가능 인원 수가 다시 증가 한다.

### 3.4. 예약 이력 조회
- 검색 조건 중 사용자 정보는 필수이다.
- 매장 별로 예약 이력을 조회할 수 있다.
- 매장 + 수업 별로 예약 이력을 조회할 수 있다.
- 날짜 별로 예약 이력을 조회할 수 있다. 
- 예약 상태 별로 예약을 조회할 수 있다.

### 3.5. 매장/수업 별 예약자 현황 조회 (관리자)
- 검색 조건 중 매장 정보는 필수이다.
- 매장 + 수업 별로 예약자 현황을 조회할 수 있다.
- 날짜 별로 예약자 현황을 조회할 수 있다.
- 예약자 이름으로 조회할 수 있다.

## 4. DB 설계
### 4.1. Domain 
1. Center : 매장 
2. Program : 매장 별 수업 
   - 매장과 1대 N 관계
   - 매장 별로 수업의 정보가 상이할 수 있기 때문에 (ex) 수업 내용, 최대 인원 수), 매장에 종속적으로 설계했습니다.
3. Program_Schedule : 수업 별 일정 
   - 수업과 1대 N 관계
4. Parent : 예약자 (부모) 
5. Child : 예약 대상 (아이)
   - 부모와 1대 N 관계
6. Reservation : 예약 데이터 
   - FK : Program_Schedule, Parent
7. Reservation_Child : 예약 별 아이 목록 
   - FK : Reservation, Child
   - 다대 다 연결 테이블
   
### 4.2. ERD
![ERD.png](ERD.png)

## 5. 현재 개발된 API 목록
- 매장 별 수업 예약 API
- 수업 예약 취소 API 
- 매장 별 수업 별 예약자 현황 조회 API
- 사용자 별 예약 이력 조회 API

📌 상세 내용은 http://localhost:8080/swagger-ui 에서 확인할 수 있습니다. 




